<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Manage Courses</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>Manage Courses</h1>

        {% if message %}
            <h3>{{ message }}</h3>
        {% endif %}

        <hr>

        <h2>Existing Courses</h2>

        {% if courses %}
            <table class="table">
                <thead>
                    <tr>
                        <th>Course ID</th>
                        <th>Course Name</th>
                        <th>Capacity</th>
                        <th>Semester</th>
                        <th>Credits</th>
                        <th>Professor ID</th>
                        <th>Professor Name</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for course in courses %}
                    <tr>
                        <td>{{ course.cID }}</td>
                        <td>{{ course.cname }}</td>
                        <td>{{ course.capacity }}</td>
                        <td>{{ course.semester }}</td>
                        <td>{{ course.credits }}</td>
                        <td>{{ course.PrID or "-" }}</td>
                        <td>{{ course.pname or "-" }}</td>
                        <td class="center-content">
                            <div>
                                <form action="{{ url_for('admin.removeCourse') }}" method="post">
                                    <input type="hidden" name="course_id" value="{{ course.cID }}">
                                    <button type="submit" class="button">Remove</button>
                                </form>
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>No courses found.</p>
        {% endif %}

        <hr>

        <h2>Add New Course</h2>

        <form action="{{ url_for('admin.addCourse') }}" method="post" class="login-form">
            <label for="course_id">Course ID:</label><br>
            <input class="input-field" type="text" id="course_id" name="course_id" required><br>

            <label for="course_name">Course Name:</label><br>
            <input class="input-field" type="text" id="course_name" name="course_name" required><br>

            <label for="capacity">Capacity:</label><br>
            <input class="input-field" type="number" id="capacity" name="capacity" required><br>

            <label for="semester">Semester:</label><br>
            <input class="input-field" type="text" id="semester" name="semester" required><br>

            <label for="credits">Credits:</label><br>
            <input class="input-field" type="number" id="credits" name="credits" required><br>

            <label for="professor_id">Professor ID (optional):</label><br>
            <input class="input-field" type="text" id="professor_id" name="professor_id"><br>

            <button type="submit" class="button">Add Course</button>
        </form>

        <hr>

        <div class="left-align">
            <form action="/AdminHome" method="get">
                <button type="submit" class="button">Back to Admin Home</button>
            </form>
        </div>
    </div>
</body>
</html>
